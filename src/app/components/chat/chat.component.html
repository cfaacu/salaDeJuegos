<div *ngIf="authService.isLoggedIn" class="shadow rounded p-5 bg-chat">
    <h1>Chat</h1>
    <div class="mensajes py-1 border border-info">
        <div class="mt-4" *ngIf="mensajes && mensajes.length">
            <div *ngFor="let _mensaje of mensajes" 
                 [ngClass]="{'mensaje-usuario': _mensaje.usuario?.email === authService.getUser?.email, 'mensaje-otro': _mensaje.usuario?.email !== authService.getUser?.email}" 
                 class="border my-2 rounded shadow-sm px-5 py-2">
                <span *ngIf="_mensaje.usuario?.email !== authService.getUser?.email" class="text-user"> {{_mensaje.usuario!.email}}: </span>
                <span class="ml-3 text-muted"> 
                    {{formatHora(_mensaje.hora)}}
                </span>
                <br>
                <span> {{_mensaje.mensaje}}</span>
            </div>
        </div>
    </div>

    <div class="display-flex flex-direction-row my-4 p-3">
        <div class="row">
            <div class="col-8">
                <input class="form-control" type="text" [(ngModel)]="mensaje" placeholder="Escribe un mensaje...">
            </div>
            <div class="col-4">
                <button class="btn btn-primary w-100" (click)="enviarMensaje()">Enviar</button>
            </div>
        </div>
    </div>
</div>
